*****************
*   INCOUNTER   *
*****************

cd Nodo-Wasp\tools\local-setup

wasp-cli chain deploy-contract wasmtime inccounter "inccounter SC" ..\cluster\tests\wasm\inccounter_bg.wasm --chain=mychain

wasp-cli chain post-request inccounter increment --chain=mychain -s

wasp-cli chain call-view inccounter getCounter --chain=mychain | wasp-cli decode string counter int

**********************
*   AUTENTICAZIONE   *
**********************

cd Nodo-Wasp\tools\local-setup

wasp-cli chain deploy-contract wasmtime autenticazione "autenticazione SC" ..\..\contracts\wasm\autenticazione\rs\autenticazionewasm\pkg\autenticazionewasm_bg.wasm --chain=mychain

wasp-cli chain post-request autenticazione registrazione String did String "prova" String password String "prova" --chain=mychain -s

wasp-cli chain call-view autenticazione login String did String "prova" String password String "prova" --chain=mychain | wasp-cli decode string esitoL bool

wasp-cli chain post-request autenticazione eliminazione String did String "prova" String password String "prova" --chain=mychain -s

**********************
*   AUTORIZZAZIONI   *
**********************

cd Nodo-Wasp\tools\local-setup

wasp-cli chain deploy-contract wasmtime autorizzazioni "autorizzazioni SC" ..\..\contracts\wasm\autorizzazioni\rs\autorizzazioniwasm\pkg\autorizzazioniwasm_bg.wasm --chain=mychain

wasp-cli chain post-request autorizzazioni fornisciAutorizzazione String didProduttore String "provaP" String didConsumatore String "provaC" String idApplicazione Int32 0 String idOperazione Int32 0 --chain=mychain -s

wasp-cli chain call-view autorizzazioni controllaAutorizzazione String didProduttore String "provaP" String didConsumatore String "provaC" String idApplicazione Int32 0 String idOperazione Int32 0 --chain=mychain | wasp-cli decode string esitoC bool

wasp-cli chain post-request autorizzazioni rimuoviAutorizzazione String didProduttore String "provaP" String didConsumatore String "provaC" String idApplicazione Int32 0 String idOperazione Int32 0 --chain=mychain -s

*****************************
*   GESTIONE APPLICAZIONI   *
*****************************

cd Nodo-Wasp\tools\local-setup

wasp-cli chain deploy-contract wasmtime gestioneapplicazioni "gestione applicazioni SC" ..\..\contracts\wasm\gestioneapplicazioni\rs\gestioneapplicazioniwasm\pkg\gestioneapplicazioniwasm_bg.wasm --chain=mychain

wasp-cli chain post-request gestioneapplicazioni pubblicaApplicazione String nome String "GMaps0" String descrizione String "GMaps per viaggi0" String url String "https://gmaps.com0" String didProprietario String "did:iota:2000" --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni modificaApplicazione String nomeAttuale String "GMaps0" String nome String "GMaps" String descrizione String "GMaps per viaggi" String url String "https://gmaps.com" String didProprietario String "did:iota:200" String attiva Bool false --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni modificaApplicazione String nomeAttuale String "GMaps" String nome String "GMaps" String descrizione String "GMaps per viaggi" String url String "https://gmaps.com" String didProprietario String "did:iota:200" String attiva Bool true --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni registraUtenteVC String rifUtente String "0|did:iota:100" String vcUtente String "Francesco|Paglia" --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni aggiungiOperazione String idApp Int32 0 String titolo String "Raccolta" String descrizione String "Raccoglie dati utente" String software String "input:dati" String tipo Int32 2 --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni modificaStatoOperazione String idApp Int32 0 String titolo String "Raccolta" String nuovoStato Bool false --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni modificaStatoOperazione String idApp Int32 0 String titolo String "Raccolta" String nuovoStato Bool true --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni creaCanali String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" String autoreDati String "autore dati" String annuncioDati String "annuncio dati" String indUltMsgDati String "indirizzo dati 1" String autoreLog String "autore log" String annuncioLog String "annuncio log" String indUltMsgLog String "indirizzo log 1" --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni modificaIndUltMsg String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" String indUltMsgDati String "indirizzo dati 2" String indUltMsgLog String "indirizzo log 2" --chain=mychain -s

wasp-cli chain post-request gestioneapplicazioni aggiungiIscritto String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" String didConsumatore String "did:iota:200" String iscrittoDati String "iscritto dati" String iscrittoLog String "iscritto log" --chain=mychain -s


wasp-cli chain call-view gestioneapplicazioni idApplicazione String nome String "GMaps" String didProprietario String "did:iota:200" --chain=mychain | wasp-cli decode string idApp int32

wasp-cli chain call-view gestioneapplicazioni datiApplicazione String idApp Int32 0 --chain=mychain | wasp-cli decode string datiApp string

wasp-cli chain call-view gestioneapplicazioni elencoApplicazioni --chain=mychain | wasp-cli decode string numeroApps int32

wasp-cli chain call-view gestioneapplicazioni elencoAppsUtente String didUtente String "did:iota:200" --chain=mychain | wasp-cli decode string idApps string

wasp-cli chain call-view gestioneapplicazioni verificaUtenteVC String rifUtente String "0|did:iota:100" String vcUtente String "Francesco|Paglia" --chain=mychain | wasp-cli decode string esitoC bool

wasp-cli chain call-view gestioneapplicazioni idOperazione String idApp Int32 0 String titolo String "Raccolta" --chain=mychain | wasp-cli decode string idOp int32

wasp-cli chain call-view gestioneapplicazioni datiOperazione String idOp Int32 0 --chain=mychain | wasp-cli decode string datiOp string

wasp-cli chain call-view gestioneapplicazioni elencoOperazioni String idApp Int32 0 --chain=mychain | wasp-cli decode string idOps string

wasp-cli chain call-view gestioneapplicazioni indUltMsg String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" --chain=mychain | wasp-cli decode string indirizzi string

wasp-cli chain call-view gestioneapplicazioni ottieniAutore String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" --chain=mychain | wasp-cli decode string autori string

wasp-cli chain call-view gestioneapplicazioni ottieniIscritto String idApp Int32 0 String idOp Int32 0 String didProduttore String "did:iota:100" String didConsumatore String "did:iota:200" --chain=mychain | wasp-cli decode string iscritti string
